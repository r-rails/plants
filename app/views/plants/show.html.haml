-# plant card

.relative.max-w-md.mx-auto.md:max-w-2xl.mt-6.min-w-0.break-words.bg-white.w-full.mb-6.shadow-lg.rounded-xl.mt-16
  .px-6
    .flex.flex-wrap.justify-center
      .w-full.flex.justify-center
        .relative
          .shadow-xl.-m-16.-ml-20.lg:-ml-16= plant_img(@plant)
      .w-full.text-center.mt-20
        .flex.justify-center.lg:pt-4.pt-8.pb-0
          .p-3.text-center
            %span.text-xl.font-bold.block.uppercase.tracking-wide= @plant.watering
            %span.text-blue-500 Watering
          .p-3.text-center
            %span.text-xl.font-bold.block.uppercase.tracking-wide= @plant.ideallight
            %span.text-yellow-500 Ideal Light
          .p-3.text-center
            %span.text-xl.font-bold.block.uppercase.tracking-wide= @plant.climate
            %span.text-green-500 Climate
    .text-center.mt-2
      .text-2xl.font-semibold.leading-normal.mb-1= @plant.name
      .mt-0.mb-2.font-bold.uppercase.text-gray-500
        %i.mr-2= @plant.category
    .mt-6.py-6.border-t.text-center
      .flex.flex-wrap.justify-center
        .w-full.px-4
          %p.leading-relaxed.mb-4= @plant.description
          - if current_user
            - if current_user.plant_ids.include?(@plant.id)
              = form_tag garden_plant_path, :method => :delete do
                = hidden_field_tag :plant_id, @plant.id
                = submit_tag "Remove from my garden", :class => 'p-2 border-2 border-red-700 rounded font-normal hover:bg-red-400'
            - else
              = form_tag add_to_garden_path, :method => :post do
                = hidden_field_tag :plant_id, @plant.id
                = submit_tag "Plant in my garden", :class => 'p-2 border-2 border-green-700 rounded font-normal hover:bg-green-400'   
          - else
            = link_to "Sign in to plant your garden", new_user_session_path, :class => 'p-2 border-2 border-green-700 rounded font-normal hover:bg-green-400'
          .mt-6.py-6.border-t.text-center
            - @plant.comments.each do |comment|
              .flex.flex-wrap.justify-center
                .w-full.px-4
                  %p.leading-relaxed.mb-4
                    %span.leading-relaxed.text-sm.mb-4= "#{comment.user.username.capitalize}:"
                    = comment.body
                    
          - if current_user
            .flex.justify-center.max-w-lg.rounded-lg.shadow-md.shadow-blue-600.mx-12
              .mb-3.xl:w-96
                = form_tag add_comment_path do
                  %label.text-lg.text-gray-600{for: "comment"} Add a comment
                  = hidden_field_tag :plant_id, @plant.id
                  = hidden_field_tag :user_id, current_user.id
                  = text_area_tag :body, nil, placeholder: "", class: "form-control py-1.5 block w-full px-3 text-base font-normal text-gray-700 bg-white bg-clip-padding border border-solid border-gray-300 rounded transition ease-in-out m-0 focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"
                  = button_tag "Post", class: "mt-5 bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"
            
         
            
